<<<<<<< HEAD
﻿@using Microsoft.AspNetCore.Identity;
=======
﻿<link rel="stylesheet" href="~/css/tableStyle.css"> 
   @using Microsoft.AspNetCore.Identity;
>>>>>>> e7fa6487f07b8e9aa8161a46e47baf47f7019a80
@using CallCenterService.Models;
@model CallCenterService.ViewModels.UsersViewModel

@inject UserManager<ApplicationUser> userManager


<h2>Użytkownicy</h2>
<br />
<form asp-controller="Account" asp-action="Index" method="get">
    <p>
        <b> Login </b> <input type="text" name="searchUserLogin">
        <b> E-mail:</b> <input type="text" name="searchUserEmail">
        <b> Rola: </b> <input type="text" name="searchUserRole">
        <input type="submit" value="Szukaj" />
    </p>
</form>
<table class="table">
    <a asp-action="AddUser">Dodaj użytkownika</a>
    <thead>
        <tr>
            <th>Login</th>
            <th>Imię</th>
            <th>Nazwisko</th>
            @*<th>Address</th>*@
            <th>Email</th>
            <th>Rola</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var user in Model.Users)
        {
        <tr>
            <td>@user.UserName</td>
            <td>@user.FirstName</td>
            <td>@user.LastName</td>
            @*<td>@user.Address</td>*@
            <td>@user.Email</td>
            <td>@(string.Join(",", await userManager.GetRolesAsync(user)))</td>

            @if (user.UserName != "admin@admin.com")
    {
        <td>
            <a asp-controller="Account" asp-action="EditUser" asp-route-id="@user.Id">Edytuj</a>
            @*<a asp-controller="Account" asp-action="DeleteUser" asp-route-id="@user.Id">Usuń</a>*@
        </td>
}
else
{
        <td></td>
        <td></td>
}
        </tr>
        }
    </tbody>
</table>